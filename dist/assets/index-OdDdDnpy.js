(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))u(t);new MutationObserver(t=>{for(const i of t)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&u(a)}).observe(document,{childList:!0,subtree:!0});function o(t){const i={};return t.integrity&&(i.integrity=t.integrity),t.referrerPolicy&&(i.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?i.credentials="include":t.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function u(t){if(t.ep)return;t.ep=!0;const i=o(t);fetch(t.href,i)}})();class h{constructor(){this.astronautsAlive=!1,this.monsterAlive=!0,this.room=1,this.playerHits=0,this.monsterHits=0,this.hasSword=!1,this.swordAvailable=!0,this.hasMace=!1,this.maceAvailable=!0,this.gameOver=!1}output(e){const o=document.getElementById("game");o.innerHTML+=`<p>${e}</p>`}start(){this.output(""),this.output("Uvod"),this.output(""),this.output("Bio si u svemirskom brodu i provjeravao si motore, kad odjednom je drugi svemirski brod napao tvoj svemirski brod. Pokušao si da izađeš iz sobe za motore, ali tačno na izlazu si pao u nesvijest."),this.output("Probudio si se. Svemirski brod je bio potpuno uništen."),this.render()}render(){this.room===1?(this.output("Nalaziš se u prostoriji za motore. Vrata su na zapadu."),this.astronautsAlive&&this.output("Tu se nalaze astronauti u zelenim odijelima. Imaju zelene kacige sa narandžastim staklom.")):this.room===2?(this.output("Nalaziš se u hodniku. Prostorija za motore je na istoku. Polu-uništena plava vrata su na jugu."),this.maceAvailable&&!this.hasMace&&this.output("U uglu hodnika vidiš teški buzdovan!")):this.room===3?(this.output("Nalaziš se u sobi koja je zapravo raskrsnica. Osjećaš da se nešto trese u blizini. Na zapadu su vrata prekrivena krvlju. Na istoku je velika biblioteka. Na sjeveru je hodnik."),this.swordAvailable&&!this.hasSword&&this.output("Na podu vidiš sjajan mač!")):this.room===4&&(this.output("Nalaziš se u biblioteci. Svjetla trepere. Čuješ jako lupanje. Na zapadu je raskrsnica."),this.monsterAlive&&(this.output("U ćosku biblioteke stoji čudovište. Ima velike kandže i oči koje svijetle u mraku."),this.output("Čudovište je primilo "+this.monsterHits+" udaraca."),this.output("Ti si primio "+this.playerHits+" udaraca.")))}processCommand(e){this.gameOver||(this.room===1?e==="zapad"?(this.room=2,this.render()):this.output("Nevažeća komanda."):this.room===2?e==="jug"?(this.room=3,this.render()):e==="istok"?(this.room=1,this.render()):e==="uzmi buzdovan"&&this.maceAvailable&&!this.hasMace?(this.output("Uzeo si buzdovan! Ovo je mnogo jače oružje!"),this.hasMace=!0,this.maceAvailable=!1):this.output("Nevažeća komanda."):this.room===3?e==="zapad"?this.output("Vrata ne mogu da se otvore."):e==="istok"?(this.room=4,this.render()):e==="sjever"?(this.room=2,this.render()):e==="uzmi mac"&&this.swordAvailable&&!this.hasSword?(this.output("Uzeo si mač! Sada si jači!"),this.hasSword=!0,this.swordAvailable=!1):this.output("Nevažeća komanda."):this.room===4&&(e==="zapad"?(this.room=3,this.render()):e==="napadni"&&this.monsterAlive?(this.hasMace?this.monsterHits+=5:this.monsterHits+=this.hasSword?2:1,this.monsterHits>=10?(this.output("Pobijedio si čudovište!"),this.output("Završio si Dungeon Warrior! Aj zdravo!"),this.monsterAlive=!1,this.gameOver=!0):(this.output(this.hasMace?"Udario si čudovište buzdovanom! Ono uzvraća udarac!":this.hasSword?"Udario si čudovište mačem! Ono uzvraća udarac!":"Udario si čudovište! Ono uzvraća udarac!"),this.playerHits++,this.playerHits>=3&&this.respawn())):this.output("Nevažeća komanda.")))}respawn(){this.output("Umro si..."),this.output("Probudio si se ponovo na početku."),this.room=1,this.playerHits=0,this.render()}}const n=new h;n.start();const r=document.getElementById("command");r.addEventListener("keydown",s=>{if(s.key==="Enter"){const e=r.value.trim();n.processCommand(e),r.value=""}});
